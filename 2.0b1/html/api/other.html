



<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Other Python API Docs &mdash; Rose Documentation 2.0b1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/diff_selector.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/grid_table.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/hieroglyph_theme_addons.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/tutorial.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/addons.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/rose-favicon.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/diff_selector.js"></script>
        <script src="../_static/js/minicylc.js"></script>
        <script src="../_static/js/spoiler.js"></script>
        <script src="../_static/js/addons.js"></script>
        <script src="../_static/js/versioning.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Rose Bash Library" href="rose-bash-library.html" />
    <link rel="prev" title="Rose Environment Variables" href="environment-variables.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/rose-logo-crop.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.0b1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/rose/index.html">Rose Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cheat-sheet.html">Cheat Sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Rose API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="configuration/index.html">Rose Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="command-reference.html">Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment-variables.html">Rose Environment Variables</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Other Python API Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="rose-bash-library.html">Rose Bash Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="rose-built-in-applications.html">Rose Built-In Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="rose-macro.html">Rose Macro API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rose-upgrader-macros.html">Rose Upgrade Macro API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rosie-web.html">Rosie Web API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../terms.html">Rose Terms Of Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../course/um-ut.html">UM User Tutorial</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rose Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Other Python API Docs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-metomi.rose.reporter">
<span id="other-python-api-docs"></span><h1>Other Python API Docs<a class="headerlink" href="#module-metomi.rose.reporter" title="Permalink to this headline">¶</a></h1>
<p>Reporter for diagnostic messages.</p>
<dl class="py class">
<dt id="metomi.rose.reporter.Reporter">
<em class="property">class </em><code class="sig-prename descclassname">metomi.rose.reporter.</code><code class="sig-name descname">Reporter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbosity</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">contexts</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">raise_on_exc</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/reporter.html#Reporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.reporter.Reporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Report diagnostic messages.</p>
<p>Note: How about the “logging” module in the standard library? It needs a
lot of fiddling to get it working in our reporting model. We want:
* [FAIL] in any verbosity to stderr.
* [WARN] in default verbosity to stderr.
* Raw output to stdout in any verbosity.
* [INFO] in default verbosity to stdout.
* [INFO] in -v verbosity to stdout.
* [INFO] in -vv verbosity to stdout.
* and everything goes to the log file with -vv verbosity by default.</p>
<dl class="py method">
<dt id="metomi.rose.reporter.Reporter.default">
<em class="property">classmethod </em><code class="sig-name descname">default</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbosity</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reset</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/reporter.html#Reporter.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.reporter.Reporter.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default reporter.</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.reporter.Reporter.format_msg">
<code class="sig-name descname">format_msg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="n">verbosity</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clip</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/reporter.html#Reporter.format_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.reporter.Reporter.format_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a message for reporting.</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.reporter.Reporter.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clip</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/reporter.html#Reporter.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.reporter.Reporter.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Report a message, if relevant for the reporter contexts.</p>
<dl class="simple">
<dt>message:</dt><dd><p>The message to report. An Event, an Exception, an object
with a __str__ method, or a callable that returns an object
with a __str__ method.</p>
</dd>
<dt>kind:</dt><dd><p>The message kind. The default is determined by message.
If it is an Event, the default is message.kind. If it is an
Exception, the default is KIND_ERR. Otherwise, the default
is KIND_OUT.</p>
</dd>
<dt>level:</dt><dd><p>The level of the message. The default is determined by
message. If it is an Event, the default is message.level.
If it is an Exception, the default is FAIL. Otherwise, the
default is DEFAULT.</p>
</dd>
<dt>prefix:</dt><dd><p>Prefix each line of the message with this prefix.
Default is context dependent.</p>
</dd>
<dt>clip:</dt><dd><p>The maximum length of the message to print.</p>
</dd>
</dl>
<p>If self.event_handler is defined, self.event_handler with all the
arguments and return its result instead.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-metomi.rose.popen"></span><p>Wraps Python’s subprocess.Popen.</p>
<dl class="py class">
<dt id="metomi.rose.popen.RosePopener">
<em class="property">class </em><code class="sig-prename descclassname">metomi.rose.popen.</code><code class="sig-name descname">RosePopener</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event_handler</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap Python’s subprocess.Popen.</p>
<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.get_cmd">
<code class="sig-name descname">get_cmd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.get_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.get_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return default options and arguments of a known command as a list.</p>
<p>If a setting [external] &lt;key&gt; is defined in the site/user
configuration, use the setting.</p>
<p>Otherwise, if RosePopener.ENVS_OF_CMDS[key] exists, it looks for each
environment variable in the list in RosePopener.ENVS_OF_CMDS[key] in
order. If the environment variable is defined and is not a null string,
use the value of the environment variable.</p>
<p>Otherwise, return RosePopener.CMDS[key]</p>
<p>key: must be a key of RosePopener.CMDS
args: if specified, will be added to the returned list</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.handle_event">
<code class="sig-name descname">handle_event</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.handle_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.handle_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an event using the runner’s event handler.</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a Rose-friendly interface to subprocess.Popen.</p>
<p>Return ret_code, out, err.</p>
<p>If kwargs[“stdin”] is a str, communicate it to the command via a pipe.</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.run_async">
<em class="property">async </em><code class="sig-name descname">run_async</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.run_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.run_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a Rose-friendly interface to subprocess.Popen.</p>
<p>Return ret_code, out, err.</p>
<p>If kwargs[“stdin”] is a str, communicate it to the command via a pipe.</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.run_bg">
<code class="sig-name descname">run_bg</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.run_bg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.run_bg" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a Rose-friendly interface to subprocess.Popen.</p>
<p>Return a subprocess.Popen object.</p>
<p>If kwargs[“stdin”] is a str, turn it into subprocess.PIPE.
However, it cannot communicate stdin to the Popen object,
because the Popen.communicate() method implies a wait().</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.run_bg_async">
<em class="property">async </em><code class="sig-name descname">run_bg_async</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.run_bg_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.run_bg_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a Rose-friendly interface to subprocess.Popen.</p>
<p>Return a subprocess.Popen object.</p>
<p>If kwargs[“stdin”] is a str, turn it into subprocess.PIPE.
However, it cannot communicate stdin to the Popen object,
because the Popen.communicate() method implies a wait().</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.run_nohup_gui">
<code class="sig-name descname">run_nohup_gui</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cmd</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.run_nohup_gui"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.run_nohup_gui" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch+detach a GUI command with nohup.</p>
<p>Launch the GUI command with <cite>nohup bash -c ‘exec …’</cite> redirecting
standard input and outputs from and to <cite>/dev/null</cite>, and setting it to
become a process group leader. Equivalent to a double fork.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cmd</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – command string of the GUI.</p>
</dd>
</dl>
<dl class="simple">
<dt>Return (subprocess.Popen):</dt><dd><p>Return the process object for the “nohup” command.
Return None if no DISPLAY is set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.run_ok">
<code class="sig-name descname">run_ok</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.run_ok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.run_ok" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as RosePopener.run, but raise RosePopenError if ret_code != 1.</p>
<p>Return out, err.</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.run_simple">
<code class="sig-name descname">run_simple</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.run_simple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.run_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to RosePopener.run_ok, but event handle stdout and stderr.</p>
<p>kwargs[“stderr_level”] – set event level of stderr
kwargs[“stdout_level”] – set event level of stdout</p>
<p>Return None.</p>
</dd></dl>

<dl class="py method">
<dt id="metomi.rose.popen.RosePopener.which">
<em class="property">static </em><code class="sig-name descname">which</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/metomi/rose/popen.html#RosePopener.which"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#metomi.rose.popen.RosePopener.which" title="Permalink to this definition">¶</a></dt>
<dd><p>Search an executable file name in PATH, and return its full path.</p>
<p>If name is an absolute path and is an executable file, return name.
If name is not found in PATH, return None.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-metomi.rose.macros"></span><p>Module to contain internal system macros for operating on a configuration.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="rose-bash-library.html" class="btn btn-neutral float-right" title="Rose Bash Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="environment-variables.html" class="btn btn-neutral float-left" title="Rose Environment Variables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright : Copyright (C) British Crown (Met Office) &amp; Contributors. See Terms of Use. This document is released under the Open Government Licence.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note"
     aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Read the Docs</span>
    v: 2.0b1
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions" id="version-selector">
    <script type="text/javascript">
        // NOTE: temporary variables not initiated so that they can be deleted

        // path to a root file in the current version of the documentation
        version_path = "../.html".split('/');
        // dirname of the root dir
        version_dir = version_path
            .splice(0, version_path.length - 1)
            .join('/');
        delete version_path;
        // relative path from the current version to the documentation root
        rel_path = '../../';
        // relative path from the current document to the documentation root
        var root_dir;
        if (version_dir) {
            root_dir = version_dir + '/' + rel_path;
        } else {
            root_dir = rel_path;
        }
        delete version_dir;
        delete rel_path;
        // the name of the current version of the documentation
        const current_version = "2.0b1";
        // the name of the builder (i.e. html)
        const current_builder = "html";
        // the name of the current page
        const current_page_name = "api/other";
    </script>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    
<style>
/* make sidebar header off-white. NB: only very light colours work given image
   edge transparency issues, but white itself clashes with the main pages.  */
.wy-side-nav-search, .wy-nav-top {
    background: #f9f9eb;
}
/* make sidebar header version text the dark blue of the Rose logo */
.wy-side-nav-search div.version {
    color: #2B2663;
}
</style>


</body>
</html>